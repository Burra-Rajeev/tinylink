{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20project/tinylink/pages/index.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\ntype Link = {\n  id: number;\n  code: string;\n  url: string;\n  clicks: number;\n  createdAt: string;\n  lastClicked: string | null;\n};\n\nexport default function Home() {\n  const [url, setUrl] = useState(\"\");\n  const [code, setCode] = useState(\"\");\n  const [links, setLinks] = useState<Link[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const fetchLinks = async () => {\n    const res = await fetch(\"/api/links\");\n    const data = await res.json();\n    setLinks(data);\n  };\n\n  useEffect(() => {\n    fetchLinks();\n  }, []);\n\n  const createLink = async () => {\n    setLoading(true);\n    setError(\"\");\n\n    const res = await fetch(\"/api/links\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ url, code }),\n    });\n\n    if (!res.ok) {\n      const { error } = await res.json();\n      setError(error);\n    } else {\n      setUrl(\"\");\n      setCode(\"\");\n      fetchLinks();\n    }\n\n    setLoading(false);\n  };\n\n  const deleteLink = async (code: string) => {\n    await fetch(`/api/links/${code}`, {\n      method: \"DELETE\",\n    });\n    fetchLinks();\n  };\n\n  return (\n    <div className=\"min-h-screen p-6 bg-gray-100\">\n      <div className=\"max-w-xl mx-auto bg-white shadow-md rounded-lg p-6\">\n        <h1 className=\"text-3xl font-bold text-center mb-6\">TinyLink ðŸ”—</h1>\n\n        <div className=\"space-y-3\">\n          <input\n            className=\"w-full border p-2 rounded\"\n            placeholder=\"Enter URL (https://example.com)\"\n            value={url}\n            onChange={(e) => setUrl(e.target.value)}\n          />\n\n          <input\n            className=\"w-full border p-2 rounded\"\n            placeholder=\"Custom code (optional: A-Z, a-z, 0-9, 6-8 chars)\"\n            value={code}\n            onChange={(e) => setCode(e.target.value)}\n          />\n\n          {error && <p className=\"text-red-500 text-sm\">{error}</p>}\n\n          <button\n            onClick={createLink}\n            disabled={loading}\n            className=\"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700\"\n          >\n            {loading ? \"Creating...\" : \"Create Short Link\"}\n          </button>\n        </div>\n      </div>\n\n      <div className=\"max-w-xl mx-auto mt-6\">\n        <h2 className=\"text-xl font-semibold mb-3\">Links</h2>\n        <div className=\"space-y-3\">\n          {links.map((link) => (\n            <div key={link.id} className=\"bg-white p-3 shadow rounded flex justify-between items-center\">\n              <div>\n                <a\n                  href={`/${link.code}`}\n                  target=\"_blank\"\n                  className=\"text-blue-600 font-semibold\"\n                >\n                  {link.code}\n                </a>\n                <p className=\"text-sm text-gray-600\">{link.url}</p>\n                <p className=\"text-xs text-gray-500\">\n                  Clicks: {link.clicks} | Created: {new Date(link.createdAt).toLocaleString()}\n                </p>\n              </div>\n\n              <button\n                className=\"text-red-500 text-sm font-semibold\"\n                onClick={() => deleteLink(link.code)}\n              >\n                Delete\n              </button>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAWe,SAAS;IACtB,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,+GAAQ,EAAC;IAC/B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IAEnC,MAAM,aAAa;QACjB,MAAM,MAAM,MAAM,MAAM;QACxB,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,SAAS;IACX;IAEA,IAAA,gHAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,aAAa;QACjB,WAAW;QACX,SAAS;QAET,MAAM,MAAM,MAAM,MAAM,cAAc;YACpC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAK;YAAK;QACnC;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,IAAI,IAAI;YAChC,SAAS;QACX,OAAO;YACL,OAAO;YACP,QAAQ;YACR;QACF;QAEA,WAAW;IACb;IAEA,MAAM,aAAa,OAAO;QACxB,MAAM,MAAM,CAAC,WAAW,EAAE,MAAM,EAAE;YAChC,QAAQ;QACV;QACA;IACF;IAEA,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAG,WAAU;kCAAsC;;;;;;kCAEpD,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;gCACC,WAAU;gCACV,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,OAAO,EAAE,MAAM,CAAC,KAAK;;;;;;0CAGxC,qKAAC;gCACC,WAAU;gCACV,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;4BAGxC,uBAAS,qKAAC;gCAAE,WAAU;0CAAwB;;;;;;0CAE/C,qKAAC;gCACC,SAAS;gCACT,UAAU;gCACV,WAAU;0CAET,UAAU,gBAAgB;;;;;;;;;;;;;;;;;;0BAKjC,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,qKAAC;wBAAI,WAAU;kCACZ,MAAM,GAAG,CAAC,CAAC,qBACV,qKAAC;gCAAkB,WAAU;;kDAC3B,qKAAC;;0DACC,qKAAC;gDACC,MAAM,CAAC,CAAC,EAAE,KAAK,IAAI,EAAE;gDACrB,QAAO;gDACP,WAAU;0DAET,KAAK,IAAI;;;;;;0DAEZ,qKAAC;gDAAE,WAAU;0DAAyB,KAAK,GAAG;;;;;;0DAC9C,qKAAC;gDAAE,WAAU;;oDAAwB;oDAC1B,KAAK,MAAM;oDAAC;oDAAa,IAAI,KAAK,KAAK,SAAS,EAAE,cAAc;;;;;;;;;;;;;kDAI7E,qKAAC;wCACC,WAAU;wCACV,SAAS,IAAM,WAAW,KAAK,IAAI;kDACpC;;;;;;;+BAlBO,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;AA2B7B"}}]
}